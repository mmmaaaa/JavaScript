<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>隐藏部件</title>
</head>
<body>
<form method="get" name="form1">
    <table>
        <tr>
          <th>姓名</th>
            <td><input type= "text" name="name1" id="id_name1"/></td>
        </tr>
        <tr>
            <th>年龄</th>
            <td><input type="month" name="name2" id="id_name2"  onchange="on_yc(this.id);"/>
                <input type="hidden" name="hid" id="id_hid" value=""/>
            </td>
        </tr>
        <tr>
            <th></th>
            <td><input type="submit" name="b1" id="id_b1" value="提交"></td>
        </tr>
    </table>
</form>
<form name="hightlight" method="get">
    <input type="text" id="1" onfocus="hl(this.id);" />
    <input type="text" id="2" onfocus="hl(this.id);" />
</form>
<form name="form3" method="get">
    <div>
       <input type="text" name="name" id="id_name" placeholder="名字"/>
       <input type="text" name="value" id="id_value" placeholder="值"/>
       <input type="button" name="add1" id="id_add" onclick="add();" value="添加"/>
    </div>
    <div>
        <select name="sl" id="sl">
            <option value="">请选择</option>
            <option value="music" selected="selected">music</option>
            <option value="sport">sport</option>
            <option value="play">play</option>
        </select>
        <input type="button" name="del1" id="id_del" onclick="del();" value="删除选项"/>
    </div>
</form>
</body>
<script type="text/javascript">
    function on_yc(){
    var lev = 3;
    var birth = document.getElementById("id_name2").value;
    var arrbirth = birth.split('-');
    var birthyear = arrbirth[0];
    var birthmon = arrbirth[1];
    var now = new Date();
    var nowyear = now.getFullYear();
    var nowmon = now.getMonth()+1;
    if ((nowyear - birthyear) > 60){
        lev = 1;
    }else if ((nowyear - birthyear) == 60){
        if (nowmon >= birthmon){
            lev = 1;
        }else {
            lev = 2;
        }
    }else {
        lev = 3;
    }
    document.getElementById("id_hid").value = lev;
    console.log(document.getElementById("id_hid").value);
    }
    window.onload = function (){
        get_dx = function (str,type){
            type = type || "locale";
            return type === "locale" && str.toLocaleUpperCase() || str.toUpperCase();
        };
        get_number = function (s){
            var n = parseInt(s,10);
            if(isNaN(n)) return 0;
        };
        get_string = function (n){
            return n.toString();
        };
        console.log(get_dx("ASASdnlkanfla"));
        console.log(get_number("dssdadasa"));
        console.log(get_string("121333434")+typeof get_string("121333434"))
    }
    function hl(thisid){
        var form = hightlight.elements;
        var focus = document.activeElement;
        for(var i = 0; i < form.length;i++){
            if(form[i].id == focus.id){
                console.log(form[i].id);
                console.log(focus.id);
                document.getElementById(thisid).style.background = "#888";
            }else {
                console.log(form[i].id);
                console.log(focus.id);
            }
        }
    }
    function del(){
        var delhob = document.getElementById("sl");
        delhob.remove(delhob.selectedIndex);
    }
    function add(){
        var nowhob = document.getElementById("sl");
        var option = document.createElement("option");
        option.value = document.getElementById("id_value").value;
        option.text = document.getElementById("id_name").value;
        nowhob.add(option,null);
    }
</script>
</html>